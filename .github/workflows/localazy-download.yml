name: Download translations from Localazy
on:
  push:
    branches:
      - main

jobs:
  localazy-download-test:
    name: Download strings from Localazy
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v1
      - uses: localazy/download@v1
        with:
          read_key: ${{ secrets.LOCALAZY_READ_KEY }}
          write_key: ${{ secrets.LOCALAZY_WRITE_KEY }}
      - run: |
          # List the common.json files to ensure they are downloaded
          ls public/locales/*/common.json
          # Loop through each common.json file, extract the language name, and display its content
          for file in public/locales/*/common.json; do
            lang=$(basename $(dirname "$file")) 
            echo "Contents of $file (Language: $lang):"
            cat "$file"
            echo ""
          done
